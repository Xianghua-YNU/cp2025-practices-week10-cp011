# 数据积分：从速度数据计算距离实验报告

## 一、实验目的

1. 掌握使用梯形积分法从速度数据计算距离的原理和实现方法
2. 学习使用NumPy和SciPy进行数值积分计算
3. 掌握使用Matplotlib绘制速度和距离随时间变化的曲线

---

## 二、实验原理

### 2.1 梯形积分法

对于离散的速度数据点$(t_0,v_0),(t_1,v_1),...,(t_N,v_N)$，总距离（位移）可通过梯形法则计算：

$$
\text{距离} \approx \sum_{i=0}^{N-1} \frac{v_i + v_{i+1}}{2} (t_{i+1} - t_i)
$$

### 2.2 累积距离计算

使用`scipy.integrate.cumulative_trapezoid`计算每个时间点的累积距离：

$$
\text{累积距离}(t_i) = \int_{t_0}^{t_i} v(t)dt
$$

---

## 三、实验代码

请粘贴你的完整Python实现代码：

```python
// ... 请粘贴calculate_distance.py的全部代码 ...
```
## 四、实验结果与分析
### 4.1 运行结果
请填写运行结果（或截图），包括：

1. 计算得到的总距离值
2. 生成的速度-时间和距离-时间曲线图

### 4.2 误差分析
分析梯形积分法计算距离的误差来源
1. 数据离散化误差：

• 速度数据通常是在离散的时间点上测量的，这意味着实际的速度函数被离散化为一系列数据点。

• 梯形积分法假设在每个时间间隔内速度是恒定的，这与实际情况可能不符，导致积分结果与真实值之间存在误差。


2. 时间间隔不均匀：

• 如果时间数据点之间的间隔不均匀，梯形积分法的近似误差可能会增大。

• 不均匀的时间间隔可能导致在某些区间内速度变化被低估或高估。


3. 舍入误差：

• 在计算过程中，由于浮点数的舍入，可能会引入一些小的误差。

• 这些舍入误差在多次计算中累积，可能会对最终结果产生影响。


4. 数值积分方法的局限性：

• 梯形积分法是一种一阶方法，其误差与时间间隔的平方成正比。

• 对于更复杂的速度变化，梯形积分法可能无法提供足够精确的近似。


5. 数据噪声：

• 实际测量的速度数据可能包含噪声，这些噪声会影响积分结果的准确性。

• 数据中的异常值或波动可能导致较大的计算误差。


6. 模型假设：

• 梯形积分法假设速度在每个时间间隔内是线性变化的，这可能不适用于所有情况。

• 对于非线性变化的速度，梯形积分法可能无法准确捕捉其变化趋势。

为了减小这些误差，可以采取以下措施：

• 提高数据采样率：增加数据点的数量，减小时间间隔，可以提高积分的精度。

• 使用更高精度的数值积分方法：如辛普森积分法或高斯积分法，这些方法在某些情况下可以提供更精确的近似。

• 数据平滑：对速度数据进行平滑处理，以减少噪声的影响。

• 误差分析：进行误差分析，评估不同方法和参数对结果的影响，选择最合适的方法。
